#+BEGIN_SRC python :session :exports none
import matplotlib, numpy
matplotlib.use('Agg')
import matplotlib.pyplot as plt
#+END_SRC

#+RESULTS:

#+begin_src python :session :results file :exports results
import matplotlib, numpy
matplotlib.use('Agg')
import matplotlib.pyplot as plt
fig=plt.figure(figsize=(4,2))
x=numpy.linspace(-15,15)
plt.plot(numpy.sin(x)/x)
fig.tight_layout()
plt.savefig('/tmp/python-matplot-fig.png')
'/tmp/python-matplot-fig.png' # return filename to org-mode
#+end_src

#+RESULTS:
[[file:/tmp/python-matplot-fig.png]]

